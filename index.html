---
---

<head>
  <!--trigger github pages build-->
  <!--search/suggest-->
  <!--<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/horsey/4.2.2/horsey.css" integrity="sha256-R84Ldk4o+RHLjJnR6FuD8R80lBToAgzDvEQ3d0NhDiw=" crossorigin="anonymous" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/horsey/4.2.2/horsey.js" integrity="sha256-J38IjXBALk7t+VGTss0JmSzOYJ3Y8YBQpB4vjCnwESs=" crossorigin="anonymous"></script>-->
  <!--<script src="/RogueBookmarklets/RogueRunner_src.js"></script>-->
  <!--<script src="/RogueBookmarklets/RogueRunner_inject.js?autoshow=false"></script>-->
  
  
  
  <!--symbols-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.css" integrity="sha256-46qynGAkLSFpVbEBog43gvNhfrOj+BmwXdxFgVK/Kvc=" crossorigin="anonymous" />
  
<!-- CSS only -->
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">

<!-- JS, Popper.js, and jQuery -->
<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
 
  
   <script src='/RogueBookmarklets/index.js'></script>
  
  <title>RogueRunner/</title>
  <script>
  function injectRogueRunner(){
    var newScript = document.createElement("script");
    newScript.src = "/RogueBookmarklets/RogueRunner_inject.js?autoshow=false";
    document.head.appendChild(newScript);
  }

function getComments(text) {
  //https://stackoverflow.com/questions/27113509/how-to-extract-block-comments-from-a-string-using-regular-expressions
    var comments,
    regex,
    match;
    comments = [];
    regex = /\/\*[\s\S]*?\*\//g
    
    while ((match = regex.exec(text)) != null) {
        comments.push(match);
    }
    
    
    
    comments = comments[0]||''
    comments = (comments[0])?comments[0]:comments
  
    var commentObj={}
    regex = /.*\*.*\@(.*?)\s(.+)/g
    
    while ((match = regex.exec(text)) != null) {
        commentObj[match[1]]=match[2];
    }
  
   
  
    return commentObj;
}


    
    
  </script>
  <style>
  
    .icon::before {
    display: inline-block;
    font-style: normal;
    font-variant: normal;
    text-rendering: auto;
    -webkit-font-smoothing: antialiased;
  }

  .login::before {
    font-family: "Font Awesome 5 Free"; font-weight: 900; content: "\f007\00a0\00a0";
  }

  .bookmark::before {
    font-family: "Font Awesome 5 Free"; font-weight: 900; content: "\f02e\00a0\00a0";
  }
  .tps::before {
    font-family: "Font Awesome 5 Free"; font-weight: 400; content: "\f1ea\00a0\00a0";
  }

  .twitter::before {
    font-family: "Font Awesome 5 Brands"; content: "\f099\00a0\00a0";
  }
  </style>
</head>

<body>

  <a href="https://github.com/ktsuttlemyre" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
  <div class="container my-5">
  <h1>RogueRunner</h1>
  
    
 <div class="row my-5">
  <div class="col-sm-6">
    <div class="card">
      <h5 class="card-header">Run RogueRunner</h5>
      <div class="card-body">
       
        <p class="card-text">The RogueRunner is a interactive input that helps find and run RogueBookmarklets right in the browser.</p><p class="card-text">You can run it right here on this page by clicking below!</p>
        <a href="#" class="btn btn-primary" onclick="injectRogueRunner()"><i class="fas fa-play-circle"></i> RogueRunner</a>
      </div>
    </div>
  </div>
  <div class="col-sm-6">
    <div class="card">
      <h5 class="card-header">Install RogueRunner</h5>
      <div class="card-body">
        
        <p class="card-text">Take the RogueRunner with you!</p><p class="card-text">Install in your browser by dragging and dropping the link below into your bookmarks, bookmark bar, or copy and paste as a url</p>
        <a id="roguerunner_bookmarklet" href="https://raw.githubusercontent.com/ktsuttlemyre/RogueBookmarklets/master/RogueRunner_inject.js" draggable="true" class="btn bookmark">Loading...</a>
      </div>
    </div>
  </div>
</div>
    
    
  <h1 class="my-5">RogueBookmarklets </h1>
  
  
  <div class="accordion" id="bookmarklets">
    {% assign bookmarkletIndex = -1 %}
    {% for marklet in site.static_files %}
      {% assign path = marklet.path | split: "/" %}
      {% if path[1] contains 'bookmarklets' %}
        {% assign bookmarkletIndex = bookmarkletIndex | plus:1 %}
        
        <div class="card my-1" id="bookmarklet_card{{ bookmarkletIndex }}">
          <div class="card-header">
            
            <button class="btn btn-link btn-block text-left collapsed p-0" type="button" data-toggle="collapse" data-target="#collapse{{ bookmarkletIndex }}" aria-controls="collapse{{ bookmarkletIndex }}" aria-expanded="false">
              <h3 class="mb-0 float-left">
                <a href="#" id="bookmarklet{{ bookmarkletIndex }}" class="btn btn-primary bookmark">{{ marklet.basename }}</a>
              </h3>
              <span class="float-right">
                <span id="script_code_{{ marklet.basename | escape }}">
                  <a title="{{ marklet.path | escape }}" onclick="externalWindow('https://raw.githubusercontent.com/ktsuttlemyre/RogueBookmarklets/master{{ marklet.path | escape }}');return false;" href="https://raw.githubusercontent.com/ktsuttlemyre/RogueBookmarklets/master{{ marklet.path | escape }}"><i class="fas fa-code"></i></a>
                </span> 
                <span>
                  <a title="{{ marklet.path | escape }}" onclick="externalWindow('https://github.com/ktsuttlemyre/RogueBookmarklets/edit/master{{ marklet.path | escape }}');return false;" href="https://github.com/ktsuttlemyre/RogueBookmarklets/edit/master{{ marklet.path | escape }}"><i class="fas fa-edit"></i></a>
                </span>
                <span class='script_marklet_json'>
                </span>
              </span>
            </button>
          </div>

          <div id="collapse{{ bookmarkletIndex }}" class="collapse" aria-labelledby="headingOne" data-parent="#bookmarklets">
            <div class="card-body">
              <div class="description"></div>
            </div>
          </div>
        </div>
       
      
      {% endif %}
    {% endfor %}

  </div>




 <a href="https://github.com/ktsuttlemyre/RogueBookmarklets/new/master/bookmarklets"><i class="fas fa-plus-circle"></i></a>
  <br><br><br><br>

  
  
  

<script>

  $.ajax({
    url: 'https://ktsuttlemyre.github.io/RogueBookmarklets/RogueRunner_inject.js',
    async: true,
    dataType:'text', //Keeps script from being executed by jQuery before ajax callback executed
    success: function (data){
      $('#roguerunner_bookmarklet').attr('href',data).addClass('btn-primary').text('RogueRunner').on('click', function(ev){
        ev.preventDefault();
        alert('You must click and drag this bookmark to your bookmarks bar to install to the current browser')
        return false;
      })
//       .on('dragstart', function(ev) {
//         var self=$(this)
//         $(document).mouseleave(function () {
//             self.text('RogueBookmarks')
//         }).mouseenter(function () {
//             self.text('No no, take me to the bookmarks bar!')
//         });
//         self.text("keep dragging me to your bookmarks!");
//       })
//         .on('dragstop', function(ev) {
//         $(document).off('mouseleave')
//         $(document).off('mouseenter')
//         $(this).text("Click and Drag me to Bookmarks to install");
//       })
    }})
  
  var externalWindowString="toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=yes,resizable=yes,width=800,height=300,top="+(screen.height-800)+",left="+(screen.width-300)
  var externalWindow=function(url){
    var win = window.open(url, _blank, externalWindowString);
  }
  var codeWindow=function(script){
    var win = window.open("", script.basename, externalWindowString);
    win.document.body.innerHTML = '<html><head><style>html, body {margin:0;padding:0;}</style><title>'+script.basename+'</title></head><body><textarea style="width:100%;height:100%">'+JSON.stringify(script,null,2)+'</textarea></body></html>';
  }
    var cards=$("#bookmarklets");
    var scripts=RogueBM.scripts
    
    
  //iterate
   Object.keys(scripts).forEach(function(key){
     var script = scripts[key]
     var index= script.index;
     var card=cards.find('#bookmarklet_card'+index)
                /*$('<a>',{
                    text: '<i class="fas fa-code"></i>',
                    title: script.name,
                    href: 'https://raw.githubusercontent.com/ktsuttlemyre/RogueBookmarklets/master/bookmarklets/'+script.name,
                    //click: function(){ BlahFunc( options.rowId );return false;}
                }).appendTo('#script_code_'+key);
     
                $('<a>',{
                    text: '<i class="fas fa-edit"></i>',
                    title: script.name,
                    href: script.edit,
                    //click: function(){ BlahFunc( options.rowId );return false;}
                }).appendTo('#script_edit_'+key);*/
     
            $.ajax({
                url: script.src,
                async: true,
                dataType:'text', //Keeps script from being executed by jQuery before ajax callback executed
                success: function (data){
                  
                  var name=script.basename||'undefined'
                  var link=$("#bookmarklet"+index)
                  if(link.text()!=name){
                    console.warn('possible name index missalignment',link.text(),name,script)
                  }
                  link.text($.trim(name)).attr('title',$.trim(script.modified_time)).attr('href','javascript:'+data)
 
                  var infoDOM=$('<ul/>').css({'list-style-type':'none'});
                  var commentBlock=getComments(data)
                  Object.keys(commentBlock).forEach(function(key){
                    var value=commentBlock[key]
                    infoDOM.append($('<li/>').html(key).append($('<ul/>').css({'list-style-type':'disc'}).append($('<li/>').html(value))))
                  })
                  
                  card.find(".description").empty().append(infoDOM) 


                  var jsonString=JSON.stringify(script,null,2)
                  var objLink = $('<a>',{
                      text:  '',
                      title: jsonString,
                      href: '#', //'javascript:'+data,
                      click: function(){ codeWindow(script); return false;},
                      html:'<i class="fas fa-file-code"></i>'   
                  })
                  card.find(".script_marklet_json").empty().append(objLink)


                  //if first bookmarklet then open description
                  if(!index){
                    card.find("#bookmarklet"+index).closest("button").click()
                  }
                }
             });
     
     
      });   
  
  
  </script>
  </div>
</body>
