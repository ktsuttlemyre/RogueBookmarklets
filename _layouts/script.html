---
#layout: default
---
{%- assign pageName = page.path | split: "/" | last | split: "." | first -%}
//Jekyll metadata<META>{{ page.url }}<META>{{ page.path }}<META>{{ page.name | default: pageName }}<META>{{ page.title }}<META>{{ page.date }}<META>{{ site.github.build_revision }}
{%- comment -%}
Options 
{%- endcomment -%}
  
{%- assign desciptionWordWrapLength = 7 -%}
  
{%- comment -%}
END OPTIONS
Predefined special characters 
{%- endcomment -%}
  
{% capture NL %}
{% endcapture %}
{% assign COMMENT_NL = NL | append: " *  " %}
{% assign PARAM_NL = COMMENT_NL | append: "@param " %}
{% assign AUTHOR_NL = COMMENT_NL | append: "@author Contributor: " %}
  
{%- comment -%}
END Predefined Special Charaters
Data preprocess
{%- endcomment -%}
  
{%- assign words = page.description | split: " " -%}

{%- if page.params.first -%}
  {%- assign params = page.params -%}
  {%- assign args = page.params | map: 1 | join: ","  -%}
{%- else -%}
 {%- assign params = page.params | split: NL -%}
 {%- assign args = emptyArray -%}
  

{%- endif -%}
  
{%- if page.returns.first -%}
  {%- assign returns = page.returns | join: " " -%}
{%- else -%}
 {%- assign returns = page.returns | replace: NL, COMMENT_NL -%} 
{%- endif -%}

{%- if page.authors.first -%}
  {%- assign authors = page.authors  -%}
{%- else -%}
 {%- assign authors = page.authors | split: NL  -%} 
{%- endif -%}


  
  
{%- comment -%}
TEMPLATE
{%- endcomment -%}
/**
 *{{ SPACE }}{{ SPACE }}
    {%- for word in words -%}
      {%- assign remainder = forloop.index | modulo: desciptionWordWrapLength -%}
      {%- if remainder == 0 -%}{{ COMMENT_NL }}{%- endif -%}{{ word | append: " " }}
    {%- endfor -%}
 *  
 *  @param {{ params | join: PARAM_NL }} 
 *  @returns {{ returns }}
 *
 *  @author Original: {{ authors | join: AUTHOR_NL }} 
{%- if page.originalsource -%}{{ COMMENT_NL }}@see OriginalSource: {{ curlyOpen }}@link {{ page.originalsource }}{{ curlyClose }} {% endif %}
 *  @see This is part of a collection of bookmarklets https://ktsuttlemyre.github.io/RogueBookmarklets/
 *  @see Hosted at https://ktsuttlemyre.github.io/RogueBookmarklets{{ page.url }}
 *  @file LastModified: {{ page.date }}
 */

{%- comment -%}
Special vars all functions get (to make them independent)
selection = if there was text selected it is now accessable via this variable
open = similar to window.open but will open modal, window, 
{%- endcomment -%}


(function container(window,document,location,alert,prompt,confirm,open,undefined){
 
    var RogueBM=window['RogueBM']||{};
  
  
    var package = function package(window,document,location,alert,prompt,confirm,open){
      return function bookmarkletClosure({{ args | join: ',' }}){

          var stdout=RogueBM['stdout'];
          var selection = (stdout!=null)?stdout:(getSelection.call(window)||'');
          var serverSecret='{{ site.github.build_revision }}'; //MAKE SURE THIS STATEMENT IS ENDED SO THAT ANY SELFCALLING CLOSURES DON'T GET MISTAKEN FOR A CALL SYNTAX
          //Their code
          {{ page.content }}
          //End their code
      };
    }

    
    if(RogueBM && RogueBM['execute']){
        var mode="useMocks";
        return RogueBM['cacheCommand'](package, mode, {{ args | jsonify }}, '{{ page.url }}')
    }//else
    package(window,document,location,alert,prompt,confirm,open)();
    

})(window,document,location,alert,prompt,confirm,window.open);
